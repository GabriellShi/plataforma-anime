<%- include("./partials/head") %> <%- include("./partials/header") %>

<section class="listadeanimes">
  <div class="titulo-principal-lista-animes">
    <h2>LISTA DE ANIMES COMPLETA</h2>
  </div>

  <div class="lista-de-animes-por-letra">
    <ul>
      <li class="all-listadeanimes"><p>ALL</p></li>
      <li>#</li>
      <li>A</li>
      <li>B</li>
      <li>C</li>
      <li>D</li>
      <li>E</li>
      <li>F</li>
      <li>G</li>
      <li>H</li>
      <li>I</li>
      <li>J</li>
      <li>K</li>
      <li>L</li>
      <li>M</li>
      <li>N</li>
      <li>O</li>
      <li>P</li>
      <li>Q</li>
      <li>R</li>
      <li>S</li>
      <li>T</li>
      <li>U</li>
      <li>V</li>
      <li>W</li>
      <li>X</li>
      <li>Y</li>
      <li>Z</li>
    </ul>
  </div>

  <div class="pesquisa-listadosanimes">
    <div class="barra-de-pesquisa-partials barra-de-pesquisa-lista-dos-animes">
      <div class="pesquisa-lista-dos-animes">
        <input type="search" placeholder="Pesquisar Pelo Nome..." />
      </div>
      <div>
        <button><img src="/img/lupa.png" alt="Lupa" /></button>
      </div>
    </div>
  </div>

  <div class="filtros-listadosanimes">
    <ul>
      <div class="filtros-internos">
        <img src="/img/icone-filtro.png" alt="" />
        <li>Filtro</li>
      </div>
      <div class="filtros-internos">
        <img src="/img/icone-linguagem.png" alt="" />
        <li>Legendado/Dublado</li>
      </div>
      <div class="filtros-internos">
        <img src="/img/icone-ordem.png" alt="" />
        <li>Ordenar</li>
      </div>
      <div class="filtros-internos">
        <li>Nº de Animes</li>
      </div>
      <div class="filtros-internos">
        <img src="/img/icone-organizar-cimaebaixo.png" alt="" />
        <li>Organizar</li>
        <img src="/img/icone-seta-baixo.png" class="seta-baixo" alt="" />
      </div>
    </ul>
  </div>

  <div class="numero-de-animes-na-pagina-listadosanimes">
    <h4>Exibindo <%= listaAnimeAdmin.length %> Animes - Página <%= page %> de <%= totalPages %></h4>
  </div>
  

  <div class="numero-da-pagina-listadosanimes numero-da-pagina-episodios-adiconados">
    <ul>
      <% if (page > 1) { %>
        <a href="?page=<%= page - 1 %>"><li><img src="/img/icone-seta-direita.png" alt=""></li></a>
      <% } %>
      <% const maxVisiblePages1 = 6; // Número máximo de páginas visíveis %>
      <% const startPage1 = Math.max(1, page - Math.floor(maxVisiblePages1 / 2)); %>
      <% const endPage1 = Math.min(totalPages, startPage1 + maxVisiblePages1 - 1); %>
      <% if (startPage1 > 1) { %>
        <a href="?page=1"><li>1</li></a>
        <% if (startPage1 > 2) { %>
          <li>...</li>
        <% } %>
      <% } %>
      <% for (let i = startPage1; i <= endPage1; i++) { %>
        <a href="?page=<%= i %>">
          <li <%= i === page ? 'class="current"' : '' %>>
            <%= i %>
          </li>
        </a>
      <% } %>
      <% if (endPage1 < totalPages) { %>
        <% if (endPage1 < totalPages - 1) { %>
          <li>...</li>
        <% } %>
        <a href="?page=<%= totalPages %>"><li><%= totalPages %></li></a>
      <% } %>
      <% if (page < totalPages) { %>
        <a href="?page=<%= page + 1 %>"><li><img src="/img/icone-seta-esquerda.png" alt=""></li></a>
      <% } %>
    </ul>
  </div>

  <div class="animes-lancados lista-dos-animes-capas">
    <% for(let anime of listaAnimeAdmin) {%>
    <div class="capa-onepiece-index capa-onepiece-listadosanimes">
      <a href="/anime/<%= anime.id %>">
        <img src="<%= anime.capa %>" alt="capa" />
        <h4><%= anime.nome %></h4>
      </a>
    </div>
    <% } %>
  </div>

<div class="numero-da-pagina-listadosanimes numero-da-pagina-episodios-adiconados">
  <ul>
    <% if (page > 1) { %>
      <a href="?page=<%= page - 1 %>"><li><img src="/img/icone-seta-direita.png" alt=""></li></a>
    <% } %>
    <% const maxVisiblePages = 6; // Número máximo de páginas visíveis %>
    <% const startPage = Math.max(1, page - Math.floor(maxVisiblePages / 2)); %>
    <% const endPage = Math.min(totalPages, startPage + maxVisiblePages - 1); %>
    <% if (startPage > 1) { %>
      <a href="?page=1"><li>1</li></a>
      <% if (startPage > 2) { %>
        <li>...</li>
      <% } %>
    <% } %>
    <% for (let i = startPage; i <= endPage; i++) { %>
      <a href="?page=<%= i %>">
        <li <%= i === page ? 'class="current"' : '' %>>
          <%= i %>
        </li>
      </a>
    <% } %>
    <% if (endPage < totalPages) { %>
      <% if (endPage < totalPages - 1) { %>
        <li>...</li>
      <% } %>
      <a href="?page=<%= totalPages %>"><li><%= totalPages %></li></a>
    <% } %>
    <% if (page < totalPages) { %>
      <a href="?page=<%= page + 1 %>"><li><img src="/img/icone-seta-esquerda.png" alt=""></li></a>
    <% } %>
  </ul>
</div>


  <div class="espaco-contato"></div>
</section>
